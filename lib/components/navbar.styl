// ESN Landscape

.navbar
  overflow: visible
  
// gradient is applied to it's own element because overflow visible is not honored by IE when filter is present
.navbar-inner
  if $navbar-padding
    padding-left: $navbar-padding
    padding-right: $navbar-padding

  if $navbar-background
    background-color: $navbar-background
    if $navbar-background-highlight
      background: linear-gradient(top, $navbar-background, $navbar-background-highlight)

  if $navbar-border-radius
    border-radius: $navbar-border-radius

  if $navbar-box-shadow is not false
    box-shadow: $navbar-box-shadow

section .navbar-inner .container
  width: auto

// Navbar button for toggling navbar items in responsive layouts
.btn-navbar
  display: none
  float: right
  padding: 7px 10px
  margin-left: 5px
  margin-right: 5px
  button-background($navbar-background-highlight, $navbar-background)
  box-shadow: inset 0 1px 0 rgba(255,255,255,.1), 0 1px 0 rgba(255,255,255,.075)

.btn-navbar .icon-bar
  display: block
  width: 18px
  height: 2px
  background-color: #f5f5f5
  border-radius: 1px
  box-shadow: 0 1px 0 rgba(0,0,0,.25)

.btn-navbar .icon-bar + .icon-bar
  margin-top: 3px

// Override the default collapsed state
.nav-collapse.collapse
  height: auto

// Brand, links, text, and buttons
.navbar

  // Hover and active states
  .brand:hover
    color: $color-light
    text-decoration: none
    text-shadow: 0 0 8px rgba(255, 255, 255, .8)
  
  // Website or project name
  .brand
    float: left
    display: block
    padding: 8px 20px 12px
    margin-left: -20px // negative indent to left-align the text down the page
    font-size: 20px
    font-weight: 200
    line-height: 1
    color: $color-light

  // Plain text in topbar
  .navbar-text
    margin: 0
    line-height: $navbar-height
    color: $navbar-color
    a:hover
      color: $color-light
      background-color: transparent

  // Buttons in navbar
  .btn,
  .btn-group
    margin-top: 5px // make buttons vertically centered in navbar
    
  .btn-group .btn
    margin-top: 0
    
// Navbar forms
.navbar-form
  @extned .clearfix
  margin-bottom: 0 // remove default bottom margin
  input,
  select
    display: inline-block
    margin-top: 5px
    margin-bottom: 0

  .radio,
  .checkbox
    margin-top: 5px
  
  input[type="image"],
  input[type="checkbox"],
  input[type="radio"]
    margin-top: 3px

// Navbar search
.navbar-search
  position: relative
  float: left
  margin-top: 6px
  margin-bottom: 0
  .search-query
    padding: 4px 9px
    font-sans-serif(13px, normal, 1)
    color: $color-light
    color: rgba(255,255,255,.75)
    background: #666;
    background: rgba(255,255,255,.3);
    border: 1px solid #111;
    box-shadow: inset 0 1px 2px rgba(0,0,0,.1), 0 1px 0px rgba(255,255,255,.15)
    transition: none

    // Placeholder text gets special styles; can't be bundled together though for some reason
    placeholder(lighten($color-dark, 30%));

    // Hover states
    &:hover
      color: $color-light
      background-color: darken($color-light, 30%)
      background-color: rgba(255,255,255,.5)
    
    // Focus states (we use .focused since IE8 and down doesn't support :focus)
    &:focus,
    &.focused
      padding: 5px 10px
      color: lighten($color-dark, 30%)
      text-shadow: 0 1px 0 $color-light;
      background-color: $color-light;
      border: 0
      box-shadow: 0 0 3px rgba(0,0,0,.15)
      outline: 0

// Fixed navbar
.navbar-fixed-top
  fixed: top left
  right: 0
  z-index: $zindex-navbar-fixed

.navbar-fixed-bottom
  fixed: bottom left
  right: 0
  z-index: $zindex-navbar-fixed

.navbar-fixed-top .navbar-inner,
.navbar-fixed-bottom .navbar-inner
  padding-left:  0
  padding-right: 0
  border-radius: 0

// Navigation
.navbar .nav
  relative: left
  display: block
  float: left
  margin: 0 10px 0 0

  // Nav items
  > li
    display: block
    float: left

    // Links
    > a
      float: none
      padding: 10px 10px 11px
      line-height: 19px
      color: $navbar-anchor-color
      text-decoration: none
      text-shadow: 0 -1px 0 rgba(0,0,0,.25)
      
      &:hover
        background-color: transparent
        color: $navbar-anchor-color-hover
        text-decoration: none

  // Active nav items
  .active > a,
  .active > a:hover
    color: $navbar-anchor-color-hover
    text-decoration: none
    background-color: $navbar-background
    background-color: rgba(0,0,0,.5)

  // Dividers (basically a vertical hr)
  .vertical-divider
    height: $navbar-height
    width: 1px
    margin: 0 5px
    overflow: hidden
    background-color: $navbar-background
    border-right: 1px solid $navbar-background-highlight

  // Secondary (floated right) nav in topbar
  &.pull-right
    float: right 
    margin-left: 10px
    margin-right: 0
    
// Dropdown menu
.navbar
  .dropdown-menu
    margin-top: 1px
    border-radius: $base-border-radius
    &:before
      content: ''
      display: inline-block
      border-left:   7px solid transparent
      border-right:  7px solid transparent
      border-bottom: 7px solid #ccc
      border-bottom-color: rgba(0,0,0,.2)
      absolute: top -7px left 9px
    &:after
      content: ''
      display: inline-block
      border-left:   6px solid transparent
      border-right:  6px solid transparent
      border-bottom: 6px solid #fff
      absolute: top -6px left 10px

  // Dropdown toggle caret
  .dropdown-toggle .caret,
  .open.dropdown .caret
    border-top-color: $color-light
  
  .active .caret
    opacity: 100

  // Remove background color from open dropdown
  .open > .dropdown-toggle,
  .active > .dropdown-toggle,
  .open.active > .dropdown-toggle
    background-color: transparent
  
  // Dropdown link on hover
  .active > .dropdown-toggle:hover
    color: $color-light

  // Right aligned menus need alt position
  .nav.pull-right .dropdown-menu
    right: 0
    &:before
      left: auto
      right: 12px
    &:after
      left: auto
      right: 13px

// Sub navigation
.subnav 
  width: 100%
  height: 36px
  background-color: #eeeeee // Old browsers
  background-repeat: repeat-x // Repeat the gradient
  background-image: linear-gradient(top, #f5f5f5 0%,#eeeeee 100%)
  border: 1px solid #e5e5e5
  border-radius: 4px

  .nav 
    margin-bottom: 0

  .nav > li > a 
    margin: 0
    padding-top:    11px
    padding-bottom: 11px
    border-left: 1px solid #f5f5f5
    border-right: 1px solid #e5e5e5
    border-radius: 0

  .nav > .active > a,
  .nav > .active > a:hover 
    padding-left: 13px
    color: #777
    background-color: #e9e9e9
    border-right-color: #ddd
    border-left: 0
    box-shadow: inset 0 3px 5px rgba(0,0,0,.05)

  .nav > .active > a .caret,
  .nav > .active > a:hover .caret 
    border-top-color: #777

  .nav > li:first-child > a,
  .nav > li:first-child > a:hover 
    border-left: 0
    padding-left: 12px
    border-radius: 4px 0 0 4px

  .nav > li:last-child > a 
    border-right: 0

  .dropdown-menu 
    border-radius: 0 0 4px 4px